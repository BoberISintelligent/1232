<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Lahendus</title>
    <script src="js/pace.min.js"></script>
    <link rel="stylesheet" href="css/pace.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,500|Sniglet&amp;display=swap">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/exercise.css">

    <style>
        :root {
            --ez-icon-action-col: rgba(0, 0, 0, .54);
            --ez-icon-action-active-col: rgba(0, 0, 0, .87);
            --ez-icon-action-active-bg-col: rgba(0, 0, 0, .04);
            --ez-icon-action-clicked-bg-col: rgba(0, 0, 0, .1);
            --ez-icon-action-disabled-col: rgba(0, 0, 0, .38);
            --ezc-link-hover-col: #429748;
            --ezc-attr-immutable-col: rgba(0, 0, 0, .54);
            --ezc-attr-mutable-col: rgba(0, 0, 0, .73);
        }

        svg {
            fill: currentColor;
        }

        ez-icon > svg {
            width: 1.8rem;
            height: 1.8rem;
        }

        ez-icon.med > svg {
            width: 2.4rem;
            height: 2.4rem;
        }

        ez-icon-action {
            display: flex;
            padding: .3rem;
            cursor: pointer;
            color: var(--ez-icon-action-col);
            transition: color .2s ease-in-out, background .2s;
            border-radius: 50%;
        }
        ez-icon-action:hover {
            color: var(--ez-icon-action-active-col);
            background-color: var(--ez-icon-action-active-bg-col);
        }
        ez-icon-action:focus {
            background-color: var(--ez-icon-action-clicked-bg-col);
        }
        ez-icon-action.disabled {
            color: var(--ez-icon-action-disabled-col);
            cursor: default;
        }

        /* styles otherwise overwritten by .waves-effect */
        ez-icon-action.waves-effect {
            display: flex;
            transition: color .2s ease-in-out, background .2s;
        }

        ez-icon-action > ez-icon.med {
            padding: .2rem;
        }




        ez-coll {
            display: flex;
            flex-direction: column;
        }

        /* General show/hide based on collection width */
        ez-coll *[ez-show-min="600"],
        ez-coll *[ez-show-max="599"] {
            display: none;
        }
        ez-coll[min-width~="600px"] *[ez-show-min="600"] {
            display: flex;
        }

        ez-coll[max-width~="599px"] *[ez-show-max="599"] {
            display: flex;
        }


        ezc-item {
            display: flex;
            margin-bottom: 1rem;
            min-height: 5rem;
        }

        ezc-item-container {
            flex: 1 1 auto;
            display: flex;
            min-width: 0;
            padding: 8px;
            background-color: #fff;
            box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.1),
            0 2px 1px -2px rgba(0, 0, 0, 0.09),
            0 1px 3px 0 rgba(0, 0, 0, 0.1);
            border-radius: 5px;
        }

        ezc-left {
            display: flex;
            align-items: start;
            justify-content: center;
            min-width: 30px;
            padding: 0 5px;
            /* Or maybe... test with svg icon/checkbox */
            /*padding: .2rem 5px 0;*/
        }

        ezc-item.two-rows ezc-left {
            padding-top: 1.1rem;
        }
        ezc-item.two-rows ezc-right {
            padding-top: 1.1rem;
        }

        ezc-main {
            flex: 1 1 auto;
            min-width: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        ezc-center {
            flex: 1 1 auto;
            min-width: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        ezc-right {
            display: flex;
            align-items: start;
            justify-content: center;
            min-width: 30px;
            padding: 0 5px;
        }

        ezc-first {
            display: flex;
        }

        ezc-title {
            flex: 1 1 auto;
            padding-right: 1rem;
            font-size: 1.7rem;
        }

        ezc-title > a {
            color: inherit;
        }

        ezc-title > a:hover {
            color: var(--ezc-link-hover-col);
        }

        ezc-second {
            display: flex;
            justify-content: space-between;
            margin-top: .5rem;
            min-height: 24px;
        }

        ezc-attrs-sizer {
            align-self: center;
            flex: 1 1 auto;
            min-width: 0;
            display: flex;
        }

        ezc-bottom-attrs {
            display: flex;
            flex: 1 1 auto;
            min-width: 0;
        }

        ezc-attr {
            display: none;
            position: relative;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        ezc-attr,
        ezc-fold-attr {
            font-size: 1.4rem;
        }

        ezc-attr.top {
            align-items: center;
        }

        ezc-attr.bottom {
        }

        /* Padding-left because padding-right allows overflow on it */
        ezc-attr.bottom:not(:first-child) {
            padding-left: 1rem;
        }

        /* Fade out long attr values - do we want this? */
        ezc-attr.bottom:after {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            height: 100%;
            width: 1rem;
            background: linear-gradient(to right, rgba(255, 255, 255, 0), #fff);
            pointer-events: none;
        }

        ezc-attr-text {
        }
        ezc-attr-text.immutable {
            color: var(--ezc-attr-immutable-col);
        }
        ezc-attr-text.mutable {
            color: var(--ezc-attr-mutable-col);
        }
        ezc-attr-text.mutable:hover {
            cursor: pointer;
            font-weight: 500;
        }

        /* If attrs should take up all space */
        ezc-bottom-attrs[ez-growing-attrs] > ezc-attr {
            /* Don't set with flex since that resets flex-basis */
            flex-grow: 1;
        }


        /* Attr widths */

        ezc-bottom-attrs[ez-attr-width-s="200"] > ezc-attr {
            flex-basis: 200px;
        }

        ezc-attrs-sizer[min-width~="200px"] > ezc-bottom-attrs[ez-attr-width-s="200"] > ezc-attr:nth-child(-n+1),
        ezc-attrs-sizer[min-width~="400px"] > ezc-bottom-attrs[ez-attr-width-s="200"] > ezc-attr:nth-child(-n+2),
        ezc-attrs-sizer[min-width~="600px"] > ezc-bottom-attrs[ez-attr-width-s="200"] > ezc-attr:nth-child(-n+3) {
            display: inline-block;
        }

        /* When one attr is shown, grow it. Only matters if the content doesn't fit. Do we need this? */
        /*
        ezc-bottom-attrs[max-width~="399px"][ez-attr-width-200] > ezc-attr:nth-child(-n+1) {
            flex-grow: 1;
        }
        */


        /* Increase attr width if there's more space. Determine reasonable attr-width-m's. */
        /* Note that if items have a different number of attrs, they will resize differently when using this.
           This can be fixed by setting ez-attrs to *max* number of attrs on any item, for all items. */
        ezc-attrs-sizer[min-width~="600px"] > ezc-bottom-attrs[ez-attr-width-m="300"][ez-attrs="2"] > ezc-attr,
        ezc-attrs-sizer[min-width~="900px"] > ezc-bottom-attrs[ez-attr-width-m="300"][ez-attrs="3"] > ezc-attr {
            flex-basis: 300px;
        }



        ezc-bottom-space {
            align-self: flex-start;
            white-space: nowrap;
            overflow: hidden;
        }

        ezc-fold {
            display: flex;
            flex-direction: column;
            min-width: 0;
        }

        ezc-fold-attr {
            display: flex;
            flex-wrap: wrap;
            min-width: 0;
            overflow: auto;
        }

        ezc-fold-value {
            min-width: 0;
            padding-left: 1rem;
        }

        ezc-trailer {
            display: flex;
        }

        ezc-expand-trailer {
            padding-top: 1.1rem;
        }

        ezc-expand-trailer > ez-icon-action {
            visibility: hidden;
        }

        ezc-item:hover ezc-expand-trailer > ez-icon-action,
        ezc-expand-trailer ez-icon-action:focus {
            visibility: visible;
        }

        /* Any of the user's inputs is coarse or the main input cannot hover */
        @media (any-pointer: coarse) or (hover: none) {
            ezc-expand-trailer > ez-icon-action {
                visibility: visible;
            }
        }

        ezc-expand-trailer > ez-icon-action > ez-icon {
            transition: transform .2s ease-in-out;
        }

        ezc-expand-trailer.open > ez-icon-action > ez-icon {
            transform: rotate(180deg);
        }
    </style>
</head>
<body style="background-color: #eee" class="leftbar-active">
<header>
    <div id="nav-wrap">
        <nav class="navbar">
            <div class="topnav container" role="navigation">
                <div class="left-cluster">
                    <div>
                        <a id="sidenav-toggle" href="#!" class="sidenav-toggle"><i class="material-icons">menu</i></a>
                    </div>
                    <a href="/courses" class="logo">
                        <img class="img" src="img/main-logo.svg" alt="Lahendus">
                        <span class="text">LAHENDUS</span>
                    </a>
                </div>
                <!-- Search here -->
                <div class="right-cluster">
                    <div id="profile-wrap" class="dropdown-trigger profile-wrap" data-target="profile-dropdown">
                        <a href="#!">
                            <i class="profile-logo left material-icons">account_circle</i>
                            <span class="profile-name">Kaspar</span>
                        </a>
                    </div>
                </div>
            </div>
        </nav>
    </div>
</header>
<main>
    <div id="leftbar-wrap">
        <ul id="leftbar" class="leftbar sidenav sidenav-fixed">
            <li>
                <div class="user-view">
                    <div class="background"></div>
                    <div class="name attr truncate">Jaan Jüri</div>
                    <div class="email attr truncate">jaanjuri@gmail.com</div>
                    <div class="role attr">Õpilane</div>
                </div>
            </li>
            <li>
                <div class="divider"></div>
            </li>
            <li><a class="waves-effect sidenav-close" href="/courses"><i class="material-icons">storage</i>Minu kursused</a>
            </li>
            <li>
                <div class="divider"></div>
            </li>
            <li><a class="waves-effect sidenav-close" href="#!"><i class="material-icons">settings</i>Konto seaded</a>
            </li>
            <li><a class="waves-effect sidenav-close" href="#!"><i class="material-icons">exit_to_app</i>Logi välja</a>
            </li>
        </ul>
    </div>
    <div id="content-container" class="container">
        <div class="title-wrap no-crumb">
            <h2 class="title">Minu kursused</h2>
        </div>

        <!-- ezcoll -->
        <ez-coll>
            <ezc-item ez-item="1" class="two-rows">
                <ezc-item-container>
                    <ezc-left>L</ezc-left>

                    <ezc-main>
                        <ezc-center>
                            <ezc-first>
                                <ezc-title><a href="#!">Pealkiri Pealkiri Pealkiri</a></ezc-title>
                                <ezc-attr class="top" ez-show-min="600">
                                    <ezc-attr-text class="immutable" title="Tähtaeg">
                                        11.09.20, 11:11
                                    </ezc-attr-text>
                                </ezc-attr>
                            </ezc-first>
                            <ezc-second>
                                <ezc-attrs-sizer>
                                    <ezc-bottom-attrs ez-attrs="3" ez-attr-width-s="200" ez-attr-width-m="300" ez-growing-attrss>
                                        <ezc-attr class="bottom" style="">
                                            <ezc-attr-text class="immutable" title="Attr1 key">
                                                attr1 attr1 attr1 attr1 attr1 attr1 attr1 attr1 attr1 attr1
                                            </ezc-attr-text>
                                        </ezc-attr>
                                        <ezc-attr class="bottom" style="">
                                            <ezc-attr-text class="mutable" title="Attr2 key">
                                                attr2
                                            </ezc-attr-text>
                                        </ezc-attr>
                                        <ezc-attr class="bottom" style="">
                                            <ezc-attr-text class="immutable" title="Attr3 key">
                                                attr3
                                            </ezc-attr-text>
                                        </ezc-attr>
                                    </ezc-bottom-attrs>
                                </ezc-attrs-sizer>

                                <ezc-fold class="display-none">
                                    <ezc-fold-attr ez-show-max="599">
                                        <ezc-fold-key>Top attr key</ezc-fold-key>:
                                        <ezc-fold-value>
                                            <ezc-attr-text class="immutable" title="Top attr key">
                                                Paremal
                                            </ezc-attr-text>
                                        </ezc-fold-value>
                                    </ezc-fold-attr>
                                    <ezc-fold-attr>
                                        <ezc-fold-key>Attr 1 key</ezc-fold-key>:
                                        <ezc-fold-value>
                                            <ezc-attr-text class="immutable" title="Attr1 key">
                                                attr1 attr1 attr1 attr1 attr1 attr1 attr1 attr1 attr1 attr1
                                            </ezc-attr-text>
                                        </ezc-fold-value>
                                    </ezc-fold-attr>
                                    <ezc-fold-attr>
                                        <ezc-fold-key>Attr 2 key</ezc-fold-key>:
                                        <ezc-fold-value>
                                            <ezc-attr-text class="mutable" title="Attr2 key">
                                                attr2
                                            </ezc-attr-text>
                                        </ezc-fold-value>
                                    </ezc-fold-attr>
                                    <ezc-fold-attr>
                                        <ezc-fold-key>Attr 3 key</ezc-fold-key>:
                                        <ezc-fold-value>
                                            <ezc-attr-text class="immutable" title="Attr3 key">
                                                attr3
                                            </ezc-attr-text>
                                        </ezc-fold-value>
                                    </ezc-fold-attr>
                                </ezc-fold>

                                <ezc-bottom-space ez-show-min="600">
                                    <ez-icon-action title="Peida" class="waves-effect" tabindex="0">
                                        <ez-icon>
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="18px" height="18px"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
                                        </ez-icon>
                                    </ez-icon-action>
                                </ezc-bottom-space>
                            </ezc-second>
                        </ezc-center>
                    </ezc-main>

                    <ezc-right>
                        <ez-icon-action title="Tegevused..." class="waves-effect" tabindex="0">
                            <ez-icon class="med">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="18px" height="18px"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
                            </ez-icon>
                        </ez-icon-action>
                    </ezc-right>
                </ezc-item-container>

                <ezc-trailer>
                    <ezc-expand-trailer>
                        <ez-icon-action ez-expand-item="1"  title="Laienda" class="waves-effect" tabindex="0">
                            <ez-icon class="">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="18px" height="18px"><path d="M0 0h24v24H0z" fill="none"/><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>
                            </ez-icon>
                        </ez-icon-action>
                    </ezc-expand-trailer>
                </ezc-trailer>
            </ezc-item>




            <ezc-item ez-item="1" class="">
                <ezc-item-container>
                    <ezc-left>L</ezc-left>

                    <ezc-main>
                        <ezc-center>
                            <ezc-first>
                                <ezc-title><a href="#!">Pealkiri Pealkiri Pealkiri</a></ezc-title>
                                <ezc-attr class="top" ez-show-min="600">
                                    <ezc-attr-text class="immutable" title="Top attr key">
                                        Paremal
                                    </ezc-attr-text>
                                </ezc-attr>
                            </ezc-first>
                        </ezc-center>
                    </ezc-main>

                    <ezc-right>
                        <ez-icon-action title="Tegevused..." class="waves-effect" tabindex="0">
                            <ez-icon class="med">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="18px" height="18px"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
                            </ez-icon>
                        </ez-icon-action>
                    </ezc-right>
                </ezc-item-container>
            </ezc-item>
        </ez-coll>

        <!-- NOTES
        - Configurable:
          * min attr width px - used as flex-basis; hide attrs based on the sum,
          * min coll/item width for top attr - "move" to fold if smaller,
          * min coll/item width for bottom action space - hide if smaller (actions are always available from menu),

        * Adjust all sizing rules for max-attrs: 6 and some reasonable options for attr widths
        * Add VLJ to second item
        * To be decided: when item is unfolded, should the logo and menu btn stay at the top (possibly moving to
          align with only the first row) or move to the center of the item?
          Related: if item has an unempty bottom action space then there's an empty space between the first row and fold.
          If we want to fix that (move fold inside the attr row) then that's doable only if the logo/menu move to center.
        -->
    </div>
</main>
<footer>
</footer>

<script src="js/tmp-ResizeSensor.js"></script>
<script src="js/tmp-ElementQueries.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

<!--<script src="js/wui.js"></script>-->
<script type="text/javascript">
    function showFolds(itemId) {
        const a = 'ezc-item[ez-item="' + itemId + '"]'
        document.querySelectorAll(a + ' ezc-fold').forEach(el => {
            if (el.classList.contains("display-none")) {
                document.querySelector(a + ' ezc-expand-trailer').classList.add('open');
                document.querySelector(a + ' ezc-attrs-sizer').classList.add('display-none');
                el.classList.remove("display-none");
            } else {
                document.querySelector(a + ' ezc-expand-trailer').classList.remove('open');
                el.classList.add('display-none');
                document.querySelector(a + ' ezc-attrs-sizer').classList.remove('display-none');
            }
        });
    }

    document.querySelectorAll('ez-icon-action[ez-expand-item]').forEach(el => {
        el.onclick = (() => {
            showFolds(el.getAttribute('ez-expand-item'));
        });
    });
</script>


</body>
</html>